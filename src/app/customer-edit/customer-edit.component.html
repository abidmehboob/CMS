<div class="pcoded-main-container">
    <div class="pcoded-wrapper">
        <app-sidebar></app-sidebar>
        <div class="pcoded-content bg-white">
            <div class="pcoded-inner-content">
                <!-- Main-body start -->
                <div class="main-body">
                    <div class="page-wrapper pb-0">
                        <!-- Page-header start -->
                        <div class="page-header card bg-transparent box-shadow-none">
                            <div class="row align-items-end">
                                <div class="col-lg-8">
                                    <div class="page-header-title">
                                        <div class="d-inline">
                                            <h4 class="mt-3">Edit {{this.firstNameE}}'s Profile</h4>
                                        </div>
                                    </div>
                                    <div class="mb-0 mt-4" *ngIf="packageE">
                                        <p>Package Name: {{packageE.packageId.name}}</p>
                                        <p>Package Price: {{packageE.packagePrice}}</p>
                                        <p>Start Date: {{packageE.packageStartDate}}</p>
                                        <p>End Date: {{packageE.packageExpireDate}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Page-header end -->
                    <!-- Page-body start -->
                    <div class="page-wrapper pt-0">
                        <!-- Basic card start -->
                        <div class="card">
                            <div class="card-block  p-3 pt-4">
                                <div class="form-group row">
                                    <div class="col-lg-6">
                                        <label>First Name<span> *</span></label>
                                        <input type="text" class="form-control" name="firstNameE" id="firstNameE"
                                            [(ngModel)]="firstNameE">
                                    </div>
                                    <div class="col-lg-6">
                                        <label>Last Name<span> *</span></label>
                                        <input type="text" class="form-control" name="lastNameE" id="lastNameE"
                                            [(ngModel)]="lastNameE">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-6">
                                        <label>Seller Name</label>
                                        <input type="text" class="form-control" name="sellerNameE" id="sellerNameE"
                                            [(ngModel)]="sellerNameE" />
                                    </div>
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-6">
                                        <label>Contact Preference<span> *</span></label>
                                        <br>
                                        <div id="radios" class="btn-group" data-toggle="buttons">
                                            <label class="btn btn-primary registration-radio">
                                                <input type="radio" name="contactPreferenceE" id="email"
                                                     value="email" [(ngModel)]="contactPreferenceE"/> Email
                                            </label>
                                            <label class="btn btn-primary registration-radio">
                                                <input type="radio" name="contactPreferenceE" id="phone"
                                                     value="phone" [(ngModel)]="contactPreferenceE"/>
                                                Phone
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-lg-6">
                                        <label>Address 1<span> *</span></label>
                                        <input type="text" class="form-control" name="address1E" id="address1E"
                                            [(ngModel)]="address1E">
                                    </div>
                                    <div class="col-lg-6">
                                        <label>Address 2</label>
                                        <input type="text" class="form-control" name="address2E" id="address2E"
                                            [(ngModel)]="address2E">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col-lg-6">
                                        <label>Country<span> *</span></label>
                                        <select [(ngModel)]="countryE" class="form-control"
                                            (change)="getStates($event.target.value)">
                                            <option value="">Select Country</option>
                                            <option *ngFor="let country of countries" [value]="country.id">
                                                {{country.name}}</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-6">
                                        <label>State<span> *</span></label>
                                        <select [(ngModel)]="stateE" class="form-control"
                                            (change)="getCities($event.target.value)">
                                            <option value="">Select State</option>
                                            <option *ngFor="let state of states" [value]="state.id">{{state.name}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-lg-6">
                                        <label>City<span> *</span></label>

                                        <select [(ngModel)]="cityE" class="form-control">
                                            <option value="">Select City</option>
                                            <option *ngFor="let city of cities" [value]="city.id">{{city.name}}</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-6">
                                        <label>Zip / Postal Code<span> *</span></label>
                                        <input type="text" [(ngModel)]="zipCodeE" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-lg-2">
                                        <label>Phone Extension</label>
                                        <select [(ngModel)]="phonePrefixE" class="form-control">
                                            <option value="">Select</option>
                                            <option *ngFor="let country of countries" [value]="country.phone_code">
                                                {{country.name}} (+{{country.phone_code}})</option>
                                        </select>

                                    </div>
                                    <div class="col-lg-4">
                                        <label>Phone<span> *</span></label>
                                        <input type="text" class="form-control" name="phoneNumberE" id="phoneNumberE"
                                            [(ngModel)]="phoneNumberE">
                                    </div>
                                    <div class="col-lg-6">
                                        <label>Alt Phone</label>
                                        <input type="text" class="form-control" name="phoneNumberE" id="phoneNumberE"
                                            [(ngModel)]="altPhoneNumberE">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-lg-6">
                                        <label>Fax</label>
                                        <input type="text" class="form-control" name="faxE" id="faxE"
                                            [(ngModel)]="faxE">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-lg-6">
                                        <label>Email<span> *</span></label>
                                        <input type="email" class="form-control" name="emailE" id="emailE"
                                            [(ngModel)]="emailE">
                                    </div>
                                    <div class="col-lg-6">
                                        <label>Username<span> *</span></label>
                                        <input type="text" class="form-control" name="userNameE" id="userNameE"
                                            [(ngModel)]="userNameE">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-3">
                                        <label>Are you a Pilot?</label>
                                        <p>
                                            <label class="switch">
                                                <input type="checkbox" [checked]="isPilotE==='Yes'"
                                                    [(ngModel)]="isPilotE">
                                                <span class="slider round"></span>
                                            </label>
                                        </p>
                                    </div>
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-3">

                                        <label>Are you an Aircraft Owner?</label>
                                        <p>
                                            <label class="switch">
                                                <input type="checkbox" [checked]="isAircraftOwnerE==='Yes'"
                                                    [(ngModel)]="isAircraftOwnerE">
                                                <span class="slider round"></span>
                                            </label>
                                        </p>
                                    </div>
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-7">
                                        <label>If applicable, what kind of aircraft do you own?</label>

                                        <br />
                                        <input type="text" class="form-control" name="aircraftTypeE" id="aircraftTypeE"
                                            [(ngModel)]="aircraftTypeE" />

                                    </div>
                                </div>
                                <div class="form-group">
                                    <button type="button" class="btn btn-block btn-outline-warning"
                                        (click)="onSubmitEdit()">Save Changes</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Page-body end -->
                    <div class="page-wrapper pb-0">
                        <!-- Page-header start -->
                        <div class="page-header card bg-transparent box-shadow-none">
                            <div class="row align-items-end">
                                <div class="col-lg-8">
                                    <div class="page-header-title">
                                        <div class="d-inline">
                                            <h4 class="mt-3">{{this.firstNameE}}'s Listings <span class="dot"></span>
                                                <small class="dot-number">{{this.rows ? this.rows.length : ""}}
                                                </small>
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Page-header end -->

                    <!-- Page-body start -->
                    <div class="page-wrapper pt-0">
                        <!-- Basic table card start -->
                        <input type="text" class="form-control col-lg-4 "
                            placeholder="Type to filter the name column..." (keyup)="updateFilter($event)" />
                        <p>&nbsp; </p>
                        <div class="card">
                            <div class="card-block table-border-style p-3 pt-4">
                                <div class="table-responsive">
                                    <ngx-datatable #myTable class="dark" [rows]="rows" [columnMode]="'force'"
                                        [headerHeight]="80" [footerHeight]="50" [rowHeight]="120" [scrollbarH]="true"
                                        [sorts]="[{prop: 'listingTitle', dir: 'desc'}]">

                                        <ngx-datatable-column name="listing Title">
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.listingTitle}}
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column name="Image">
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                <img src="{{imageUrl+row.media?.photos[0]?.imageName}}" height="100px"
                                                    width="100px" />
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column name="Category">
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.category}}
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column name="Created Date">
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.createdDate | date: 'medium'}}
                                            </ng-template>
                                        </ngx-datatable-column>
                                        <ngx-datatable-column name="Detail">
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                <b> <a routerLink="/{{row.category+'/'+row._id}}"
                                                        routerLinkActive="active">View</a></b>
                                            </ng-template>
                                        </ngx-datatable-column>
                                        <ngx-datatable-column name="Featured">
                                            <ng-template let-row="row" let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template>
                                                <a (click)="featuredListing($event, row._id)"><i id="star"
                                                        [ngClass]="row.featuredListing ? 'fas fa-star': 'far fa-star'"></i></a>
                                            </ng-template>
                                        </ngx-datatable-column>
                                        <ngx-datatable-column name="Action">
                                            <ng-template let-row="row" let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template>
                                                <!-- <a href="" class="action-btn" [routerLink]="[]"
                                                    (click)="editForm(row._id, rowIndex)" data-toggle="modal"
                                                    data-target="#editModal"><i class="fa fa-edit"></i></a> -->
                                                &nbsp;
                                                <a class="action-btn" [routerLink]="[]" (click)="deleteForm(row._id)"
                                                    data-toggle="modal" data-target="#deleteModal"><i
                                                        class="fa fa-trash"></i></a>
                                            </ng-template>
                                        </ngx-datatable-column>
                                    </ngx-datatable>
                                </div>
                            </div>
                        </div>
                        <!-- Basic table card end -->
                    </div>
                    <!-- Page-body end -->
                    <div id="styleSelector">

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="deleteModal" class="modal fade">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Are you sure?</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            </div>
            <div class="modal-body">
                <p>Do you really want to delete these records? This process cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" (click)="deleteListing()">Delete</button>
            </div>
        </div>
    </div>
</div>